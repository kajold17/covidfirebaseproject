<!DOCTYPE html>
<html>
<title>Assignment</title>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="main.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>


</head>

<body>

    <div class="container">
        <div class="row">
            <div class="col-sm-4 col-md-12">
                <h3 class="lt1">
                    <span class="text-wrapper">
                        <span class="line line1"></span>
                        <span class="letters"> Get your flu shot today and keep the viruses away!</span>
                        <span class="line line2"></span>
                </h3>
                <p>Join us now</p>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4 col-md-12">
                <button class="button"
                    onclick="document.getElementById('loginmodal').style.display='block'">LogIn</button>
                <button class="button"
                    onclick="document.getElementById('signmodal').style.display='block'">SignUp</button>

            </div>
        </div>
    </div>

    <!----------Login-Modal---------->
    <div id="loginmodal" class="modal ">

        <div class="modal-dialog">
            <div class="modal-content animate">


                <div class="imgcontainer">
                    <span onclick="document.getElementById('loginmodal').style.display='none'" class="close">
                        &times;</span>
                    <img src="loginicon.png" class="loginicon">
                </div>


                <div class="card-body px-lg-5 py-lg-5">

                    <div class="modal-body">

                        <form role="form">
                            <div class="form-group">
                                <input class="form-control" id="email" placeholder="Email" type="email" required>
                            </div>
                            <div class="form-group">
                                <input class="form-control" id="password"  placeholder="Password" type="password" required>
                            </div>

                            <div class="text-center">
                                <button id="login" type="button"
                                    class="btn btn-dark my-4" >LogIn</button></a>
                            </div>
                            <div><a href="#"
                                    onclick="document.getElementById('signmodal').style.display='block'"><small>Don't
                                        have an account? Create one.</small></a></div>

                        </form>
                    </div>

                </div>
            </div>

        </div>
    </div>


    <!----------signup-Modal---------->
    <div id="signmodal" class="modal">

        <div class="modal-dialog">
            <div class="modal-content animate">


                <div class="imgcontainer">
                    <span onclick="document.getElementById('signmodal').style.display='none'" class="close">
                        &times;</span>
                    <img src="loginicon.png"  class="loginicon">
                </div>


                <div class="card-body px-lg-5 py-lg-5">

                    <div class="modal-body">

                        <form role="form" name="myForm">
                            <div class="form-group">
                                <input class="form-control" placeholder="Email" type="email" id="signup_email">
                            </div>
                            <div class="form-group">
                                <input class="form-control" placeholder="Password" type="password" id="signup_password">
                            </div>
                            <div class="form-group">
                                <input class="form-control" placeholder="Confirm Password" type="password"
                                    id="signup_confpasswd">
                            </div>

                            <div class="text-center">
                                <button type="button" id="signup" class="btn btn-dark my-4">SignUp</button>
                            </div>

                        </form>
                    </div>

                </div>
            </div>

        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="main.js"></script>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-auth.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-analytics.js"></script>

    <!--<script src="congfig.js"></script>-->
    <script>
        // Your web app's Firebase configuration

        var firebaseConfig = {
            apiKey: "AIzaSyCWv68WhFmVY_DEmddRUKwstrdZBZVL9W8",
            authDomain: "registeruser-bcbdd.firebaseapp.com",
            databaseURL: "https://registeruser-bcbdd-default-rtdb.firebaseio.com",
            projectId: "registeruser-bcbdd",
            storageBucket: "registeruser-bcbdd.appspot.com",
            messagingSenderId: "443651136519",
            appId: "1:443651136519:web:defa7599ecfa4dfbfbdea2",
            measurementId: "G-BHP629NL6B"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    //firebase.analytics();


        const auth = firebase.auth();

        document.getElementById('signup').addEventListener('click' , signUp );
        async function signUp() {
            var email = document.getElementById("signup_email");
            var password = document.getElementById("signup_password");
            var confpasswd = document.getElementById("signup_confpasswd");
            //alert(email + ":email");
            if( password.value == confpasswd.value && email.value != ""){
                await auth.createUserWithEmailAndPassword(email.value, password.value).then( data => {
                    alert("Signed Up");
                    location.replace("home.html");
                }).catch(e =>alert(e));
            }
            else{
                alert("Please enter valid credentials");
            }
            
        }

        document.getElementById('login').addEventListener('click' , LogIn );
         async function LogIn() {
            var email = document.getElementById("email");
            var password = document.getElementById("password");
            //alert(email + ":email");
    
             if( password.value !== "" && email.value !== ""){
                 const data = await auth.signInWithEmailAndPassword(email.value, password.value);
                 //alert("Signed In");
                location.replace("home.html");

             }
             else{
                 alert("Please enter valid credentials");
            }
            
            }
    </script>
</body>

</html>